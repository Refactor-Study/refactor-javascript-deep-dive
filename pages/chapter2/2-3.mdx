---
title: ìŠ¤ì½”í”„ì™€ ìŠ¤ì½”í”„ ì²´ì¸
date: 2024ë…„ 5ì›” 27ì¼
author: ì´í˜¸ì—°
image: /images/chapter2/thumbnail_2-3.png
---

## ìŠ¤ì½”í”„(Scope)ì™€ ìŠ¤ì½”í”„ ì²´ì¸(Scope Chain)

`ìŠ¤ì½”í”„(Scope)`ëŠ” ì‹ë³„ìì— ëŒ€í•œ ìœ íš¨í•œ ë²”ìœ„ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤. <br/>
ì´ëŸ¬í•œ ìŠ¤ì½”í”„ë¥¼ ì•ˆìª½ì—ì„œë¶€í„° ë°”ê¹¥ìª½ìœ¼ë¡œ ì°¨ë¡€ëŒ€ë¡œ ê²€ìƒ‰í•´ë‚˜ê°€ëŠ” ê²ƒì„ `ìŠ¤ì½”í”„ ì²´ì¸(Scope Chain)`ì´ë¼ê³  í•©ë‹ˆë‹¤.
ê·¸ë¦¬ê³  ì´ê²ƒì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ê²ƒì´ ë°”ë¡œ `ë ‰ì‹œì»¬ í™˜ê²½(Lexical Environment)`ì˜ `Outer Environment Reference`ì…ë‹ˆë‹¤.

## í™˜ê²½ ë ˆì½”ë“œì˜ ì¤‘ì²© êµ¬ì¡°

ëª¨ë“  í™˜ê²½ ë ˆì½”ë“œëŠ” `Outer Environment Reference`ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. <br/>
ì´ê²ƒì€ í˜„ì¬ í™˜ê²½ ë ˆì½”ë“œì˜ ë°”ê¹¥ìª½ í™˜ê²½ ë ˆì½”ë“œë¥¼ ì°¸ì¡°í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.
[ì˜ˆì œ](/chapter2/2-1#callstack_example)ë¥¼ í†µí•´ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

```js showLineNumbers copy filename="ìŠ¤ì½”í”„ ì²´ì¸"
var a = 1;
var outer = function () {
  var inner = function () {
    console.log(a);
    var a = 3;
  };
  inner();
  console.log(a);
};
outer();
console.log(a);
```

`Outer Environment Reference`ë¥¼ ê°ì²´ë¡œ í‘œí˜„í•˜ì—¬ ë‚˜íƒ€ë‚´ë©´ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤. <br/>

import { Callout, Steps } from 'nextra/components';

<Callout emoji='ğŸš¨' type='warning'>
  Outer Environment ReferenceëŠ” ì‹¤ì œë¡œ ì¡´ì¬í•˜ëŠ” ê°ì²´ê°€ ì•„ë‹ˆë©°, ìœ ì €ê°€ ì§ì ‘
  ì ‘ê·¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. <br /> ì´í•´ë¥¼ ë•ê¸° ìœ„í•´ ê°ì²´ë¡œ í‘œí˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
</Callout>

<Steps>
  ### ì‹œì‘
  <div className='flex items-center'>
    <div className='flex-1'>
      ì „ì—­ ì»¨í…ìŠ¤íŠ¸ê°€ í™œì„±í™” ë©ë‹ˆë‹¤.
      ```js filename="í™œì„±í™” ì»¨í…ìŠ¤íŠ¸: GLOBAL"
      GLOBAL = {
        OuterEnvironmentReference: null,
        EnvironmentRecord: {
          a: undefined,
          outer: undefined
        }
      }
      ```
    </div>
    <div className='max-w-[200px]'>
      ![scope_context_1](/images/chapter2/scope_context_1.png)
    </div>
  </div>

  ### `var a = 1; var outer = function (){:js}`
  <div className='flex items-center'>
    <div className='flex-1'>
      ì „ì—­ ì»¨í…ìŠ¤íŠ¸ì˜ `EnvironmentRecord`ì— aì™€ outerê°€ ì €ì¥ë©ë‹ˆë‹¤.
      ```js filename="í™œì„±í™” ì»¨í…ìŠ¤íŠ¸ : GLOBAL"
      GLOBAL = {
        OuterEnvironmentReference: null,
        EnvironmentRecord: {
          a: 1,
          outer: function (){}
        }
      }
      ```
    </div>
    <div className='max-w-[200px]'>
      ![scope_context_1](/images/chapter2/scope_context_1.png)
    </div>
  </div>
  
  ### `outer(){:js}`
  <div className='flex items-center'>
    <div className='flex-1'>
    outer í•¨ìˆ˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ í™œì„±í™” ë©ë‹ˆë‹¤.
    ```js filename="í™œì„±í™” ì»¨í…ìŠ¤íŠ¸: outer"
    GLOBAL = {
      OuterEnvironmentReference: null,
      EnvironmentRecord: {
        a: 1,
        outer: function (){}
      }
    };

    outer = {
      OuterEnvironmentReference: GLOBAL,
        EnvironmentRecord: {
        inner: undefined
      }
    }
    ```
    </div>
    <div className='max-w-[200px]'>
      ![scope_context_1](/images/chapter2/scope_context_2.png)
    </div>
  </div>
  
  ### `inner(){:js}`
  <div className='flex items-center'>
    <div className='flex-1'>
    inner í•¨ìˆ˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ í™œì„±í™” ë©ë‹ˆë‹¤.
    ```js filename="í™œì„±í™” ì»¨í…ìŠ¤íŠ¸: inner"
    GLOBAL = {
      OuterEnvironmentReference: null,
      EnvironmentRecord: {
        a: 1,
        outer: function (){}
      }
    };
    outer = {
      OuterEnvironmentReference: GLOBAL,
      EnvironmentRecord: {
        inner: function (){}
      }
    };
    inner = {
      OuterEnvironmentReference: outer,
      EnvironmentRecord: {
        a: undefined
      }
    }
    ```
    </div>
    <div className='max-w-[200px]'>
      ![scope_context_1](/images/chapter2/scope_context_3.png)
    </div>
  </div>
  

  ### `console.log(a);{:js}`
  <div className='flex items-center'>
    <div className='flex-1'>
    inner í•¨ìˆ˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì—ì„œ aë¥¼ ì°¾ìŠµë‹ˆë‹¤. <br />
    í˜„ì¬ í™œì„± ìƒíƒœì¸ inner í•¨ìˆ˜ì˜ `EnvironmentRecord`ì— aê°€ ë°œê²¬ë˜ì—ˆìœ¼ë‚˜, ê°’ì´ í• ë‹¹ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— `undefined`ê°€ ì¶œë ¥ë©ë‹ˆë‹¤.

    ```js {17} filename="í™œì„±í™” ì»¨í…ìŠ¤íŠ¸: inner"
    GLOBAL = {
      OuterEnvironmentReference: null,
      EnvironmentRecord: {
        a: 1,
        outer: function () {},
      },
    };
    outer = {
      OuterEnvironmentReference: GLOBAL,
      EnvironmentRecord: {
        inner: function () {},
      },
    };
    inner = {
      OuterEnvironmentReference: outer,
      EnvironmentRecord: {
        a: undefined,
      },
    };
    ```
    </div>
    <div className='max-w-[200px]'>
      ![scope_context_1](/images/chapter2/scope_context_3.png)
    </div>
  </div>

  ### `var a = 3;{:js}`
  <div className='flex items-center'>
    <div className='flex-1'>
    inner í•¨ìˆ˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì˜ `EnvironmentRecord`ì— aê°€ ì €ì¥ë©ë‹ˆë‹¤.

    ```js /a: 3/ filename="í™œì„±í™” ì»¨í…ìŠ¤íŠ¸: inner"
    GLOBAL = {
      OuterEnvironmentReference: null,
      EnvironmentRecord: {
        a: 1,
        outer: function () {},
      },
    };
    outer = {
      OuterEnvironmentReference: GLOBAL,
      EnvironmentRecord: {
        inner: function () {},
      },
    };
    inner = {
      OuterEnvironmentReference: outer,
      EnvironmentRecord: {
        a: 3,
      },
    };
    ```
    </div>
    <div className='max-w-[200px]'>
      ![scope_context_1](/images/chapter2/scope_context_3.png)
    </div>
  </div>
  ### `}` (inner í•¨ìˆ˜ ì¢…ë£Œ)
  <div className='flex items-center'>
    <div className='flex-1'>
    inner í•¨ìˆ˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ì½œ ìŠ¤íƒì—ì„œ ì œê±°ë©ë‹ˆë‹¤. ë°”ë¡œ ì•„ë˜ì˜ outer ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ë‹¤ì‹œ í™œì„±í™” ë©ë‹ˆë‹¤. <br />
    ì—”ì§„ì€ 7ë²ˆì¤„ë¡œ ì´ë™í•©ë‹ˆë‹¤.

    ```js filename="í™œì„±í™” ì»¨í…ìŠ¤íŠ¸: outer"
    GLOBAL = {
      OuterEnvironmentReference: null,
      EnvironmentRecord: {
        a: 1,
        outer: function () {},
      },
    };
    outer = {
      OuterEnvironmentReference: GLOBAL,
      EnvironmentRecord: {},
    };
    ```
    </div>
    <div className='max-w-[200px]'>
      ![scope_context_1](/images/chapter2/scope_context_2.png)
    </div>
  </div>
  ### `console.log(a);{:js}`
  <div className='flex items-center'>
    <div className='flex-1'>
    outerì˜ `EnvironmentRecord`ì—ì„œ aë¥¼ ì°¾ìŠµë‹ˆë‹¤. <br />
    í˜„ì¬ í™œì„± ìƒíƒœì¸ outer í•¨ìˆ˜ì˜ `EnvironmentRecord`ì—ëŠ” aê°€ ì—†ê¸° ë•Œë¬¸ì— ë°”ê¹¥ìª½ í™˜ê²½ì¸ ì „ì—­ ì»¨í…ìŠ¤íŠ¸ë¡œ ì´ë™í•˜ì—¬ aë¥¼ ì°¾ìŠµë‹ˆë‹¤. <br />
    ì „ì—­ ì»¨í…ìŠ¤íŠ¸ì˜ `EnvironmentRecord`ì— aê°€ ìˆìœ¼ë¯€ë¡œ 1ì´ ì¶œë ¥ë©ë‹ˆë‹¤.

    ```js {17} filename="í™œì„±í™” ì»¨í…ìŠ¤íŠ¸: outer"
    GLOBAL = {
      OuterEnvironmentReference: null,
      EnvironmentRecord: {
        a: 1,
        outer: function () {},
      },
    };
    outer = {
      OuterEnvironmentReference: GLOBAL,
      EnvironmentRecord: {},
    };
    ```
    </div>
    <div className='max-w-[200px]'>
      ![scope_context_1](/images/chapter2/scope_context_2.png)
    </div>
  </div>
  ### `}` (outer í•¨ìˆ˜ ì¢…ë£Œ)
  <div className='flex items-center'>
    <div className='flex-1'>
    outer í•¨ìˆ˜ê°€ ì¢…ë£Œë©ë‹ˆë‹¤. outer í•¨ìˆ˜ê°€ ì½œ ìŠ¤íƒì—ì„œ ì œê±°ë˜ê³  ë°”ë¡œ ì•„ë˜ì˜ ì „ì—­ ì»¨í…ìŠ¤íŠ¸ê°€ ë‹¤ì‹œ í™œì„±í™” ë©ë‹ˆë‹¤. <br />
    ì—”ì§„ì€ 10ë²ˆì¤„ë¡œ ì´ë™í•©ë‹ˆë‹¤.

    ```js filename="í™œì„±í™” ì»¨í…ìŠ¤íŠ¸: GLOBAL"
    GLOBAL = {
      OuterEnvironmentReference: null,
      EnvironmentRecord: {
        a: 1,
        outer: function () {},
      },
    };
    ```
    </div>
    <div className='max-w-[200px]'>
      ![scope_context_1](/images/chapter2/scope_context_1.png)
    </div>
  </div>
  ### `console.log(a);{:js}`
  <div className='flex items-center'>
    <div className='flex-1'>
    ì „ì—­ ì»¨í…ìŠ¤íŠ¸ì˜ `EnvironmentRecord`ì—ì„œ aë¥¼ ì°¾ìŠµë‹ˆë‹¤. <br />
    ì „ì—­ ì»¨í…ìŠ¤íŠ¸ì˜ `EnvironmentRecord`ì— aê°€ ìˆìœ¼ë¯€ë¡œ 1ì´ ì¶œë ¥ë©ë‹ˆë‹¤.

    ```js {17} filename="í™œì„±í™” ì»¨í…ìŠ¤íŠ¸: GLOBAL"
    GLOBAL = {
      OuterEnvironmentReference: null,
      EnvironmentRecord: {
        a: 1,
        outer: function () {},
      },
    };
    ```
    </div>
    <div className='max-w-[200px]'>
      ![scope_context_1](/images/chapter2/scope_context_1.png)
    </div>
  </div>
  ### ì¢…ë£Œ
  <div className='flex items-center'>
    <div className='flex-1'>
    ì „ì—­ ì»¨í…ìŠ¤íŠ¸ê°€ ì½œ ìŠ¤íƒì—ì„œ ì œê±°ë©ë‹ˆë‹¤.
    </div>
    <div className='max-w-[200px]'>
      ![scope_context_1](/images/chapter2/scope_context_4.png)
    </div>
  </div>
</Steps>

## ì „ì—­ë³€ìˆ˜ì™€ ì§€ì—­ë³€ìˆ˜

ì „ì—­ë³€ìˆ˜ëŠ” ì „ì—­ ìŠ¤ì½”í”„ì—ì„œ ì„ ì–¸ëœ ë³€ìˆ˜ë¥¼ ì˜ë¯¸í•˜ë©°, ì–´ë””ì„œë“  ì ‘ê·¼ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. <br/>
ì˜ˆì œì—ì„œëŠ” ì „ì—­ ìŠ¤ì½”í”„ì—ì„œ ì„ ì–¸í•œ aì™€ outerê°€ ì „ì—­ë³€ìˆ˜ì— í•´ë‹¹í•©ë‹ˆë‹¤. <br/>
outer ë‚´ë¶€ì—ì„œ ì„ ì–¸í•œ innerì™€ inner ë‚´ë¶€ì—ì„œ ì„ ì–¸í•œ aëŠ” ì§€ì—­ë³€ìˆ˜ì— í•´ë‹¹í•©ë‹ˆë‹¤.

<Callout emoji="ğŸ¤”">
  ì „ì—­ë³€ìˆ˜ë¥¼ ì§€ì–‘í•´ì•¼í•˜ëŠ” ì´ìœ ëŠ” ë­˜ê¹Œìš”?
</Callout>